---
import config from "@/config/config.json";
import menu from "@/config/menu.json";
import { markdownify } from "@/lib/utils/textConverter";
const { footer } = menu;
const { copyright, location, email, phone1, phone2, footer_description } =
  config.params;

import {
  getLangFromUrl,
  useTranslations,
  useTranslatedPath,
} from "../../i18n/utils";
import HeaderLink from "../components/HeaderLink.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

const complaint = {
  ref: "04",
  href: "/complaint",
};
---

<footer class="footer flex flex-col items-center justify-center">
  <div class="container w-full px-2 lg:px-20 py-6 lg:py-12">
    <div class="footer-header text-center">
      <aside class="flex justify-center items-center">
        <img
          src="/images/texture_bg/logos.png"
          alt=""
          class="max-h-[450px] w-full object-contain"
        />
      </aside>
      <h2 class="text-2xl text-black">
        {markdownify(footer_description)}
      </h2>
    </div>
    <ul
      class="grid lg:grid-cols-3 lg:flex lg:justify-between text-center items-start lg:items-center flex-wrap text-black text-xs lg:text-sm gap-2">
      <li class="px-1">San Martín 910 Piso 3</li>
      <hr class="rotate-60 my-2 h-4 border-l-2 border-black hidden lg:block" />
      <li class="px-1">San Miguel de Tucumán</li>
      <hr class="rotate-60 my-2 h-4 border-l-2 border-black hidden lg:block" />
      <li class="px-1">Tucumán</li>
      <hr class="rotate-60 my-2 h-4 border-l-2 border-black hidden lg:block" />
      <li class="px-1">Argentina</li>
      <hr class="rotate-60 my-2 h-4 border-l-2 border-black hidden lg:block" />

      <li class="px-1">
        <a href={`mailto:${email}`}>{email}</a>
      </li>
      <hr class="rotate-60 my-2 h-4 border-l-2 border-black hidden lg:block" />
      <li class="px-1">
        <a href={`tel:${phone2}`} class="text-xs lg:text-sm">{phone2}</a>
      </li>
      <hr class="rotate-60 my-2 h-4 border-l-2 border-black hidden lg:block" />
      <HeaderLink href={complaint.href} locale={lang}>
        <span class="hover:underline"> Formulario de denuncias</span>
      </HeaderLink>
    </ul>

    <div class="container max-w-[1440px] text-black">
      <div class="footer-copyright mx-auto pb-10 pt-10 text-center">
        <p class="content" set:html={markdownify(copyright)} />
      </div>
    </div>
  </div>
</footer>

<style>
  .footer {
    /* background-image: url("/public/images/texture_bg/bg_yellow.png");

    margin: 0 auto;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat; */
  }
</style>
